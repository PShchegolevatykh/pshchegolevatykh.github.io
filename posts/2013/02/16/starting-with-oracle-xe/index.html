<!DOCTYPE html>
<html>
    <head>
        <!--Import Google Icon Font-->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <!--Import materialize.css-->
        <link type="text/css" rel="stylesheet" href="../../../../../css/materialize.min.css"  media="screen,projection"/>
        <link type="text/css" rel="stylesheet" href="../../../../../css/style.css" media="screen,projection">
        <link type="text/css" rel="stylesheet" href="http://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css"  media="screen,projection"/>
        <link type="text/css" rel="stylesheet" href="../../../../../css/prism.css" media="screen,projection">
        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <!--Favicon related-->
        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../../../../../apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../../../apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../../../apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../../../apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../../../../../apple-touch-icon-60x60.png" />
        <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../../../../../apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../../../../../apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../../../apple-touch-icon-152x152.png" />
        <link rel="icon" type="image/png" href="../../../../../favicon-196x196.png" sizes="196x196" />
        <link rel="icon" type="image/png" href="../../../../../favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/png" href="../../../../../favicon-32x32.png" sizes="32x32" />
        <link rel="icon" type="image/png" href="../../../../../favicon-16x16.png" sizes="16x16" />
        <link rel="icon" type="image/png" href="../../../../../favicon-128.png" sizes="128x128" />
        <meta name="application-name" content="Pavel Shchegolevatykh's Blog'"/>
        <meta name="msapplication-TileColor" content="#FFFFFF" />
        <meta name="msapplication-TileImage" content="../../../../../mstile-144x144.png" />
        <meta name="msapplication-square70x70logo" content="../../../../../mstile-70x70.png" />
        <meta name="msapplication-square150x150logo" content="../../../../../mstile-150x150.png" />
        <meta name="msapplication-wide310x150logo" content="../../../../../mstile-310x150.png" />
        <meta name="msapplication-square310x310logo" content="../../../../../mstile-310x310.png" />
        <!--SEO-->
        <meta name="description" content="Pavel Shchegolevatykh is a software developer, who used to be in eSports. Writes about programming, lifestyle, gaming, hobbies and other topics.">
	    <meta name="author" content="Pavel Shchegolevatykh">
        <title>Pavel Shchegolevatykh - Programming, Lifestyle, Gaming, Hobbies, Random Thoughts</title>
    </head>

    <body>
        <nav class="white" role="navigation">
            <div class="nav-wrapper container">
                <ul class="left hide-on-med-and-down">
                    <li>
                        <a href="../../../../../">Home</a>
                    </li>
                    <li>
                        <a href="../../../../../about/">About</a>
                    </li>
                </ul>
                <ul id="nav-mobile" class="side-nav" style="transform: translateX(-100%);">
                    <li>
                        <a href="../../../../../">Home</a>
                    </li>
                    <li>
                        <a href="../../../../../about/">About</a>
                    </li>
                </ul>
                <a href="#" data-activates="nav-mobile" class="button-collapse">
                    <i class="material-icons">menu</i>
                </a>
            </div>
        </nav>
        <div class="container blog">
                <div class="row">
                    <div class="col s12">
                        <div id="post" class="section scrollspy">
                            <div class="row valign-wrapper">
                                <div class="col s2 m2 l1">
                                    <a href="../../../../../about/"><img src="../../../../../images/me.png" alt="Avatar" class="circle responsive-img"></a>
                                </div>
                                <div class="col s10 m10 l11">
                                    <span class="grey-text text-darken-1">
                                        By Pavel Shchegolevatykh / February 16, 2013
                                    </span>
                                </div>
                                    
                            </div>
                            <h4>Getting started with Oracle XE in .NET</h4>
                            <p class="flow-text">Quite often I had to work with database providers other than Microsoft SQL Server. Sometimes it could be tricky. Here I will show you some basic steps to start your development in .NET using Oracle Database XE as your data storage. The installation process is pretty straightforward so I will not show here lots of pictures where you should basically press <strong>Next</strong> button all the time. So I assume that my reader is a software developer. You can do additional research for each installation step if you need more information.</p>
                            <h5>Step 1 - Download and Install Oracle Database XE</h5>
                            <p class="flow-text">You can <a href="http://www.oracle.com/technetwork/products/express-edition/downloads/index.html">download</a> and install Express product for free from official Oracle website. Current version is 11g. Chose the right plaform for your operating system (x64 or x86). The webpage asks you to accept the licence agreement and log in. If you don't have an account it is time to create it.</p>
                            <p class="flow-text">Then you should install downloaded package. During the process it is necessary to provide a password for DBA account. For this demo I used <strong>masterkey</strong>.</p>
                            <h5>Step 2 - Download and Install Oracle SQL Developer (optional)</h5>
                            <p class="flow-text">This step is not required, because you can use SQL console that comes with Oracle Database XE. Though I think that SQL Developer is a great tool and it's more user-friendly than a console. :) It has lots of features that I don't normally use like visual table creations, modeling, versioning and stuff. I just use its table/schema view and SQL Editor. It is very similar to SQL Management Studio from Microsoft in a way. You can <a href="http://www.oracle.com/technetwork/developer-tools/sql-developer/downloads/index.html">download</a> the archive from Oracle website. Installation does not required. You can just xcopy the archive contents to any folder. I copied this to <strong>Program Files</strong>.</p>
                            <p class="flow-text">On the first run SQL Developer needs to know where to find <strong>java.exe</strong>. Just pointing to JRE file would not work because SQL Developer requires also JDK to be installed.</p>
                            <div class="center">
                                <img class="materialboxed" data-caption="Path to java.exe" src="images/jdkpath.png">
                            </div>
                            <p class="flow-text">If you don't have a JDK installed you can also download it from same website. After that you specify the path explicitly. There also can be a warning about compatibility. Just skip it. Compatibility problems it's just a Java thing.</p>
                            <div class="center">
                                <img class="materialboxed" data-caption="JDK compatibility warning" src="images/jdkwarning.png">
                            </div>
                            <p class="flow-text">Now you are ready to create developer account for your database.</p>
                            <h5>Step 3 - Create and Configure Developer Account</h5>
                            <p class="flow-text">At first you have to connect to your database. Remember the DBA password you set during the installation?</p>
                            <div class="center">
                                <img class="materialboxed" data-caption="Create DB connection window" src="images/oraclesysconnection.png">
                            </div>
                            <p class="flow-text">It's a good practice is to create a separate account for development purposes (developer is not a DBA right?) and give some permissions to this new account based on your security preferences. Here I'll' show an example of doing this. My "grants" are not so restrictive. :)</p>
<pre><code class="language-sql">CREATE USER pshchegolevatykh IDENTIFIED BY masterkey;

GRANT CONNECT TO pshchegolevatykh;
GRANT UNLIMITED TABLESPACE TO pshchegolevatykh;
 
GRANT CREATE ANY TABLE  TO pshchegolevatykh;
GRANT CREATE ANY VIEW TO pshchegolevatykh; 
GRANT CREATE ANY PROCEDURE TO pshchegolevatykh;
GRANT CREATE ANY SYNONYM TO pshchegolevatykh;
GRANT CREATE ANY INDEX TO pshchegolevatykh;
GRANT CREATE ANY TRIGGER TO pshchegolevatykh;
GRANT CREATE ANY SEQUENCE TO pshchegolevatykh;

GRANT ALTER ANY TABLE TO pshchegolevatykh;
GRANT ALTER ANY PROCEDURE TO pshchegolevatykh;
GRANT ALTER ANY INDEX TO pshchegolevatykh;
GRANT ALTER ANY TRIGGER TO pshchegolevatykh;
GRANT ALTER ANY SEQUENCE TO pshchegolevatykh;

GRANT DROP ANY TABLE TO pshchegolevatykh;
GRANT DROP ANY VIEW TO pshchegolevatykh; 
GRANT DROP ANY PROCEDURE TO pshchegolevatykh;
GRANT DROP ANY SYNONYM TO pshchegolevatykh;
GRANT DROP ANY INDEX TO pshchegolevatykh;
GRANT DROP ANY TRIGGER TO pshchegolevatykh;
GRANT DROP ANY SEQUENCE TO pshchegolevatykh;</code></pre>
                            <p class="flow-text">You can test this by creating new connection in SQL Developer.</p>
                            <div class="center">
                                <img class="materialboxed" data-caption="Modified connection window" src="images/oraclemyconnection.png">
                            </div>
                            <p class="flow-text">Now I'm going to create a basic table for testing purposes.</p>
<pre><code class="language-sql">CREATE TABLE PEOPLE
(
  "ID" NUMBER NOT NULL,
  FIRST_NAME VARCHAR2(50) NOT NULL,
  AGE NUMBER NOT NULL
);

ALTER TABLE PEOPLE
ADD CONSTRAINT PEOPLE_PK PRIMARY KEY("ID") ENABLE;

INSERT INTO PEOPLE ("ID", FIRST_NAME, AGE)
VALUES (1, 'John', 25);
INSERT INTO PEOPLE ("ID", FIRST_NAME, AGE)
VALUES (2, 'Bill', 36);
INSERT INTO PEOPLE ("ID", FIRST_NAME, AGE)
VALUES (3, 'Paul', 15);</code></pre>
                            <p class="flow-text">Creation and insertion should work fine because we granted all the necessary permissions.</p>
                            <h5>Step 4 - Download and Install Oracle Data Provider for .NET</h5>
                            <p class="flow-text">Now it's time to <a href="http://www.oracle.com/technetwork/topics/dotnet/index-085163.html">download</a> <strong>ODP.NET</strong>. Oracle has plenty of them. Chose the right version for your framework. The latest usually works fine. There are two options: get an archive that you can copy to the app folder or get a full fledged installer (with GAC and stuff). I prefer the second option because I find it simplier to be reused across all apps. The installation can take very long. I thought it was completely frozen at 99%, but then it went further, so just be patient.</p>
                            <h5>Step 5 - Create a Console App to test your data access</h5>
                            <p class="flow-text"><strong>ODP.NET</strong> should be integrated into Visual Studio if did the full installation. You can test if it works by creating a console app. Add reference to <strong>Oracle.DataAccess.dll</strong> and specify proper connection string. Here is the code example. I just put all the data access logic including connection string inside a Program class for simplicity. I know about separation of concerns and config files. So please don't tell me about that. :)</p>
<pre><code class="language-csharp">class Program
{
    private const string connectionString = "DATA SOURCE=(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=localhost)(PORT=1521))(CONNECT_DATA=(SID=xe)));PASSWORD=masterkey;USER ID=pshchegolevatykh";

    static void Main(string[] args)
    {
        ModificationTest();
    }

    static void ModificationTest()
    {
        using (var connection = new OracleConnection(connectionString))
        {
            const string query = "INSERT INTO PEOPLE VALUES (11111, 'Test', 99)";

            connection.Open();

            using (var command = new OracleCommand(query, connection))
            {
                try
                {
                    command.ExecuteNonQuery();
                }
                catch (OracleException exception)
                {
                    Console.WriteLine(exception.Message);
                }
           }

           connection.Close();

       }

       Console.WriteLine("Modification Successful! {0}", DateTime.Now.ToLongTimeString());

   }
}</code></pre>
                            <p class="flow-text">After running the app if you switch to Oracle Database and then select all rows from the <strong>PEOPLE</strong> table there should be a new record.</p>
                            <p class="flow-text">Hope this would save some of your time configuring Oracle XE Database for .NET apps.</p>
                            <div class="right social-share">
                                <a href="https://www.facebook.com/sharer/sharer.php?u=http://www.pshchegolevatykh.com/posts/2013/02/16/starting-with-oracle-xe/" onclick="window.open(this.href,'_blank', 'width=700, height=500'); return false;"><i class="fa fa-facebook"></i></a>
                                <a href="https://twitter.com/intent/tweet?text=http://www.pshchegolevatykh.com/posts/2013/02/16/starting-with-oracle-xe/" onclick="window.open(this.href,'_blank', 'width=700, height=500'); return false;"><i class="fa fa-twitter"></i></a>
                                <a href="https://vk.com/share.php?url=http://www.pshchegolevatykh.com/posts/2013/02/16/starting-with-oracle-xe/" onclick="window.open(this.href,'_blank', 'width=700, height=500'); return false;"><i class="fa fa-vk"></i></a>
                                <a href="https://www.linkedin.com/shareArticle?url=http://www.pshchegolevatykh.com/posts/2013/02/16/starting-with-oracle-xe/" onclick="window.open(this.href,'_blank', 'width=700, height=500'); return false;"><i class="fa fa-linkedin"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            
            <div id="comments">
                <div id="disqus_thread"></div>
            </div>
            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
        </div>
                                    

        <footer>
            <div class="footer-copyright">
                <div class="container">
                   <!-- footer text -->
                </div>
            </div>
        </footer>
        
        <!--Import jQuery before materialize.js-->
        <script type="text/javascript" src="https://use.fontawesome.com/061481d937.js"></script>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <script type="text/javascript" src="../../../../../js/materialize.min.js"></script>
        <script type="text/javascript" src="../../../../../js/site.js"></script>
        <script type="text/javascript" src="../../../../../js/prism.js"></script>
        <script>
            var disqus_config = function() {
                this.page.url = "http://www.pshchegolevatykh.com/posts/2013/02/16/starting-with-oracle-xe/"; // Replace PAGE_URL with your page's canonical URL variable
                this.page.identifier = "/posts/2013/02/16/starting-with-oracle-xe/"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
            };
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document,
                s = d.createElement('script');
                s.src = '//pshchegolevatykh.disqus.com/embed.js';
                s.setAttribute('data-timestamp', + new Date());
                (d.head || d.body).appendChild(s);
            })();
        </script>
        <!--Google Analytics-->
        <script>
            (function(i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r;
                i[r] = i[r] || function() {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date();
                a = s.createElement(o),
                    m = s.getElementsByTagName(o)[0];
                a.async = 1;
                a.src = g;
                m.parentNode.insertBefore(a, m)
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');

            ga('create', 'UA-86164699-1', 'auto');
            ga('send', 'pageview');
        </script>
    </body>
</html>